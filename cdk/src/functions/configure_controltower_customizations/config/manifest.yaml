---
#Default region for deploying Custom Control Tower: Code Pipeline, Step functions, Lambda, SSM parameters, and StackSets
region: {{REGION}} # e.g. eu-central-1, eu-west-1, us-east-1
version: 2021-03-15
enable_stack_set_deletion: true # Removing Stacksets from manifest deletes the Stackset automatically

# Control Tower Custom Resources (Service Control Policies or CloudFormation)
resources:
  - name: superwerker-cfct-sandbox-scp
    description: Prevents calling expensive AWS API calls and public s3 buckets
    resource_file: service-control-policies/superwerker-sandbox-scp.json
    deploy_method: scp
    deployment_targets:
      organizational_units:
        - Sandbox
  - name: superwerker-cfct-iam-access-analyzer
    description: Enable IAM Access Analyzer
    resource_file: cloudformation/iam-access-analyzer.yaml
    deploy_method: stack_set
    deployment_targets:
      organizational_units:
        - Root